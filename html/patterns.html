<md-content flex layout-padding>
    <md-tabs md-dynamic-height md-border-bottom md-selected="params.st">
        <md-tab label="جستجو">
            <div ng-if="patterns.totalPages==0" layout="row" layout-sm="column" layout-align="center center"
                 layout-wrap>
                هیچ کارتی وجود ندارد!
            </div>

            <div ng-if="patterns.totalPages>0" layout="row" layout-sm="column" layout-align="center center" layout-wrap>
                <!--<span style="color: green; padding: 5px">-->
                <!--تعداد الگوهای تأیید شده: {{numberOfApprovedPatterns}}-->
                <!--</span>-->
                <span style="color: blue; padding: 5px">
                تعداد صفحات: {{patterns.totalPages}}
                </span>
                <md-button class="md-primary" aria-label="قبلی" ng-disabled="patterns.pageNo==1"
                           ng-click="goPatterns(patterns.pageNo - 1)">قبلی
                </md-button>
                <md-input-container class="md-icon-float md-icon-right md-block">
                    <input ng-change="goPatterns(patterns.pageNo)" ng-model="patterns.pageNo"
                           type="number" max="{{patterns.totalPages}}" min="0" step="1">
                </md-input-container>
                <md-button class="md-primary" aria-label="بعدی"
                           ng-disabled="patterns.pageNo==patterns.totalPages"
                           ng-click="goPatterns(patterns.pageNo + 1)">بعدی
                </md-button>
            </div>

            <div ng-repeat="x in patterns.content">
                <md-button ng-click="editPattern($index, x)">ویرایش</md-button>
                تعداد جملات {{x.count}} /
                <span style="color: red">{{x.samples[0]}}</span>
                / طول جمله: {{x.sentenceLength}}
            </div>
        </md-tab>
        <md-tab label="ویرایش">
            <md-content class="md-padding">
                <div ng-if="patterns.totalPages>0" layout="row" layout-sm="column" layout-align="center center"
                     layout-wrap>
                    <md-button class="md-primary" aria-label="قبلی" ng-click="previousPattern()">قبلی</md-button>
                    <md-button class="md-primary" aria-label="بعدی" ng-click="nextPattern()">بعدی</md-button>
                </div>
                <div flex="10"></div>
                <div layout="column" flex="80" layout-wrap>
                    <!--<div dir="ltr">{{currentPattern.data.pattern}}</div>-->
                    <svg ng-show="currentPattern.dependencyTreeConll" id="sample-dep-tree"></svg>
                    <div layout="row">
                        <div style="min-width: 70px; width: 70px; max-width: 60px"></div>
                        <div style="min-width: 70px; width: 70px; max-width: 60px" layout="column"
                             ng-repeat="y in currentPattern.dependencyTree">
                            <div style="text-align: center">
                                <span style="color: red" ng-if="currentPattern.sbj[$index]">{{y.word}}</span>
                                <span style="color: green" ng-if="currentPattern.prd[$index]">{{y.word}}</span>
                                <span style="color: blue" ng-if="currentPattern.obj[$index]">{{y.word}}</span>
                                <span ng-if="!currentPattern.sbj[$index]&&!currentPattern.prd[$index]&&!currentPattern.obj[$index]">{{y.word}}</span>
                            </div>
                            <md-switch ng-model="currentPattern.sbj[$index]" aria-label="Subject">S</md-switch>
                            <md-switch ng-model="currentPattern.prd[$index]" aria-label="Subject">P</md-switch>
                            <md-switch ng-model="currentPattern.obj[$index]" aria-label="Subject">O</md-switch>
                        </div>
                    </div>
                    <pre dir="ltr">
                                {
                                    subject: '<span ng-repeat="y in currentPattern.dependencyTree"
                                                    ng-if="currentPattern.sbj[$index]">{{y.word}} </span>',
                                    predicate: '<span ng-repeat="y in currentPattern.dependencyTree"
                                                      ng-if="currentPattern.prd[$index]">{{y.word}} </span>',
                                    object: '<span ng-repeat="y in currentPattern.dependencyTree"
                                                   ng-if="currentPattern.obj[$index]">{{y.word}} </span>',
                                }
                        </pre>
                    <div>
                        <b>تعداد جملات:</b>
                        {{currentPattern.data.count}}
                    </div>
                    <div>
                        <b>طول جمله:</b>
                        {{currentPattern.data.sentenceLength}}
                    </div>
                    <div><b>بخشی از جملات نمونه:</b></div>
                    <div ng-repeat="s in currentPattern.data.samples">
                        {{s}}
                    </div>
                </div>
            </md-content>
        </md-tab>
    </md-tabs>
</md-content>
